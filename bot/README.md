Telegram Reminder Bot
Telegram‑бот‑напоминалка — это бот, который позволяет отправлять одноразовые и повторяющиеся напоминания, обрабатывая натуральный язык. Проект реализован на Python с использованием следующих библиотек:

aiogram — для работы с Telegram‑API

aiosqlite — для асинхронного доступа к базе данных SQLite

configparser — для загрузки конфигурационных файлов

dateparser — для разбора естественных дат и времени из текста

pytz — для работы с часовыми поясами

spaCy — для возможного расширения NLP‑анализа (с моделью "ru_core_news_sm")

Особенности
Натуральные команды: Поддерживаются команды в виде натурального языка, например:

"завтра в 12:15 купить хлеба"

"через 5 минут проверить бота"

"каждый понедельник в 9-00 купить кофе"

"8-15 сделать зарядку"

"каждое пятое число в 10-00 заплатить за квартиру" или "каждое 15 число в 10-00 ..." При отсутствии явного указания времени используется момент получения сообщения.

Поддержка повторений:

Ежедневное (например, "каждый день в 9-00")

Еженедельное (например, "каждый вторник в 10-00")

Ежемесячное (например, "каждое пятое число в 10-00" или "каждое 15 число")

Если пользователь указывает слово «каждый» (или его варианты), напоминание повторяется согласно заданному расписанию.

Поддержка разных форматов времени: Время можно задавать как с двоеточием (например, "8:15"), так и с тире (например, "8-15").

Таймзона: Пользователь может установить свою таймзону с помощью команды /settimezone <Region/City>. Для новых пользователей по умолчанию используется "Europe/Moscow".

Пользовательский интерфейс:

В личном чате доступны команды /start, /help, /settimezone, а также кнопки /myreminders для просмотра и удаления активных напоминаний.

В групповых чатах бот реагирует на упоминания (например, @YourBotName) и обрабатывает текст как запрос на напоминание.

Структура проекта
reminder_bot.py Основной исходный код бота с подробными комментариями, реализующий всю логику обработки естественного языка, повторений, управления напоминаниями (создание, просмотр, удаление) и работы в группах.

Dockerfile Инструкция для сборки Docker‑образа, включающая установку системных зависимостей (gcc, libffi-dev), обновление pip, установку зависимостей из requirements.txt и автоматическую загрузку модели spaCy "ru_core_news_sm".

requirements.txt Список Python‑зависимостей проекта.

config/config.ini Пример конфигурационного файла с настройками:

ini
[bot]
token = YOUR_BOT_TOKEN_HERE
admin_id = YOUR_ADMIN_ID_HERE
Здесь YOUR_BOT_TOKEN_HERE — токен вашего Telegram‑бота, а YOUR_ADMIN_ID_HERE — Telegram ID администратора.

Установка и запуск
Локальная установка
Клонируйте репозиторий:

bash
git clone <URL_репозитория>
cd <папка_проекта>
Создайте папку config и файл config/config.ini Пример файла:

ini
[bot]
token = YOUR_BOT_TOKEN_HERE
admin_id = YOUR_ADMIN_ID_HERE
Установите зависимости:

bash
pip install -r requirements.txt
python -m spacy download ru_core_news_sm
Запустите бота:

bash
python reminder_bot.py
Запуск через Docker
Соберите Docker‑образ:

bash
docker build -t telegram-reminder-bot .
Запустите контейнер, примонтировав внешний том для папки config:

bash
docker run -d --name reminder_bot -v /path/to/config:/app/config telegram-reminder-bot
Использование
В личном чате:

Отправьте команду /start для регистрации. Новые пользователи получат клавиатуру с кнопкой /start, а зарегистрированные — кнопки /myreminders и /help.

Используйте команду /settimezone <Region/City> для установки своей временной зоны (например, /settimezone Europe/Moscow).

Введите напоминание в натуральном формате, например:

"каждый день в 9-00 начать работу"

"каждый вторник в 10-00 заплатить за парковку"

"каждое пятое число в 10-00 обновить подписку"

"8-15 сделать зарядку"

Команда /myreminders выводит всем активные напоминания с inline‑кнопками для удаления. При нажатии кнопки соответствующее напоминание удаляется, и список обновляется.

Команда /help предоставляет подробное описание возможностей.

В групповых чатах:

Бот реагирует на упоминание (например, @YourBotName) и обрабатывает сообщение как запрос на напоминание.

Примеры запросов
"завтра в 12:15 купить хлеба"

"через 5 минут проверить бота"

"каждый понедельник в 9-00 купить кофе"

"каждый вторник в 10-00 заплатить за парковку"

"каждое пятое число в 10-00 обновить подписку"

"8-15 сделать зарядку"

Дополнительные детали
Временные значения обрабатываются как timezone‑aware объекты для корректной обработки часовых поясов.

Фоновая задача каждые 15 секунд проверяет базу данных и отправляет пользователю напоминание, если наступило время.

При повторении напоминаний (ежедневное, еженедельное, ежемесячное) используется функция compute_next_time(), которая корректно обновляет время напоминания согласно заданному интервалу.

Лицензия
Укажите лицензию проекта (например, MIT License) или другие условия использования.